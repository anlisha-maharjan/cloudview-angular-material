<form action="" #formDirective="ngForm" [formGroup]="personForm" (ngSubmit)="send(formDirective)">
  <h4 mat-dialog-title>{{heading}}</h4>
  <div fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="2rem">
    <div class="default-form__group" fxFlex.lt-md="100%" fxLayout="row wrap" fxLayoutGap="2rem">
      <mat-form-field appearance="legacy" floatLabel="always" fxFlex="100%" fxFlex.gt-xs="100%">
        <mat-select [formControl]="personCtrl" formControlName="person_id" name="person_id" placeholder="Select Person">
          <mat-select-search [formControl]="personFilterCtrl"></mat-select-search>
          <mat-option *ngFor="let person of filteredPersons | async" [value]="person.id">{{person.firstname}} {{person.middlename}}
            {{person.lastname}}</mat-option>
        </mat-select>
        <mat-error *ngIf="person_id.invalid && person_id.touched">Person is required.</mat-error>
      </mat-form-field>
    </div>
  </div>

  <div class="button-wrapper" fxLayout="row" fxLayout.lt-sm="row wrap" fxLayoutAlign="end center">
    <button class="btn-default" type="submit" mat-raised-button [disabled]="personForm.invalid">
      Save
    </button>
    <button type="reset" class="btn-cancel" [mat-dialog-close] mat-button>
      Cancel
    </button>
  </div>
</form>
